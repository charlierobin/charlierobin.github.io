<!doctype html>

<html lang="en">

<head>
    <title>charlie robin - fac•tō•tum</title>

    <meta charset="utf-8" />

    <meta name="description"
        content="Charlie: Old work, old experiments, old software, old photography - old, old, all old" />

    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://ajax.googleapis.com" crossorigin>

    <link rel="preconnect" href="https://x3dom.org" crossorigin>

    <link href="https://fonts.googleapis.com/css2?family=Titillium+Web:wght@200;600&display=swap" rel="stylesheet">

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Titillium+Web:wght@200;600&display=swap');
    </style>

    <link rel="stylesheet" href="css/reset.css?v=16">
    <link rel="stylesheet" href="css/page_layout.css?v=16">
    <link rel="stylesheet" href="css/styles.css?v=16">

    <link rel="stylesheet" href="css/grid_layout.css?v=16">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="js/common.js?v=16"></script>

    <link rel="stylesheet" type="text/css" href="https://x3dom.org/release/x3dom.css" />
    <script type="text/javascript" src="https://x3dom.org/release/x3dom.js"></script>

    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#000000">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">

    <style>
        #canvas {
            width: 100%;
            height: 100%;
            /* background-color: rgb(70, 50, 70); */
            background-color: rgb(21, 17, 81);
        }

        #sailing {
            position: relative;
        }

        #wanderlust {
            position: absolute;
            right: 10px;
            top: 10px;
            color: white;
            font-size: var(--fontSize);
            padding: 0.5em;
            padding-top: 0.1em;
            padding-bottom: 0.2em;
            /* border: 3px rgb(92, 92, 92) solid; */
            border-radius: 0.2em;
            background-color: rgb(34, 34, 34);
        }

        #wanderlust a {
            text-decoration: none;
        }
    </style>

</head>

<body>

    <div id="wrapper">
        <main>
            <section id="video" class="min-height width-half"><canvas id="canvas"></canvas></section>

            <section id="welcome" class="width-half content">
                <h1>hello, my name is <br /><span>charlie</span></h1>
                <p>this was originally a single-page experiment with <a href="https://pages.github.com"
                        title="Learn more about GitHub Pages">GitHub Pages</a>, now it&rsquo;s a four page experiment
                    with <a href="https://pages.github.com" title="Learn more about GitHub Pages">GitHub Pages</a></p>
            </section>

            <section id="gallery">

                <section id="gallery-content">

                    <article id="oscar" class="width-three-quarters">
                        <a href="https://github.com/charlierobin/oscar-the-grouch-version-1"
                            title="A new version of Oscar the Grouch for macOS/OSX (Github source code and precompiled downloadable binaries)"></a>
                    </article>

                    <article id="oscar-detail" class="width-half linked-with left">

                        <div class="content">

                            <h3>oscar the grouch</h3>
                            <p>based on the original Apple Macintosh system 6/7 extension by Eric
                                Shapiro and Ken Hornak</p>
                            <p>source code and precompiled version available for download at
                                GitHub</p>
                            <p>(there are now two versions of this for download: <a
                                    href="https://github.com/charlierobin/oscar-the-grouch-version-1"
                                    title="My first attempt at getting Oscar the Grouch onto Mac OS">my first
                                    attempt</a>, and a <a
                                    href="https://github.com/charlierobin/oscar-the-grouch-version-2"
                                    title="The second attempt at getting Oscar the Grouch onto Mac OS">second take</a>
                                which more closely mimics the original system extension)</p>

                        </div>

                    </article>

                    <article id="asteroids" class="width-half"
                        style="background-image: url('pictures/asteroids-gameplay.jpg');">
                        <a href="standalone-video-gallery.html?video=asteroids-gameplay.mp4"
                            title="A version of the arcade classic ”Asteroids“, but with more weapons and big explosions">asteroids</a>
                    </article>

                    <article id="toasters" class="width-half">
                        <a href="https://github.com/charlierobin/flying-toasters-live-desktop-xojo-opengl"
                            title="An update to the classic Macintosh screensaver, Flying Toasters: Github source code and precompiled downloadable binary for Macintosh"></a>
                    </article>

                    <article id="toasters-detail" class="width-half linked-with above">

                        <div class="content">

                            <h3>flying toasters</h3>
                            <p>flying toasters is one of the modules that was part of the <a
                                    href="https://en.infinisys.co.jp/product/afterdarkclassicset/index.shtml"
                                    title="After Dark Classic set: a collection of three popular After Dark screensavers from the classic screensaver collection of the 1990s">After
                                    Dark screensaver package from Berkeley Systems</a></p>
                            <p>source code, resources, the 3d models and animations and precompiled
                                downloads available at GitHub</p>

                        </div>

                    </article>

                    <article id="hitachi" class="width-half"
                        style="background-image: url('pictures/hitachi-screensaver/hitachi-screensaver-poster-frame.jpg');">
                        <a href="https://github.com/charlierobin/hitachi-screensaver"
                            title="Hitachi Data Systems screensaver with OpenGL: Github source code and precompiled downloadable binary for Macintosh"></a>
                    </article>

                    <article id="hitachi-detail" class="width-half linked-with left">

                        <div class="content">

                            <h3>3d screensaver</h3>
                            <p>created with OpenGL, using the <a href="https://libcinder.org"
                                    title="Cinder is a free and open source library for professional-quality creative coding in C++">Cinder
                                    OpenGL framework</a></p>
                            <p>source code, resources, 3d models and precompiled downloads available at
                                GitHub</p>

                        </div>

                    </article>

                    <!-- upper row -->

                    <article id="showreel" class="width-three-quarters"
                        style="background-image: url('pictures/charlie_robin.jpg');">
                        <a href="standalone-video-gallery.html?video=charlie_robin.mp4"
                            title="An old video work showreel"></a>
                    </article>

                    <article id="gallery1" class="width-half" style="background-image: url('pictures/me_in_mali.jpg');">
                        <a href="archaeology.html" title="Portfolio of old work"></a>
                    </article>

                    <article id="gallery2" class="width-half linked-with above">

                        <div class="content">

                            <h3>old work</h3>
                            <p>screenshots of a lot of very old work</p>
                            <p>ranges from 1995 onwards, mostly very low resolution because I threw away
                                all of the original source materials</p>
                            <p>(see also: <a href="standalone-video-gallery.html"
                                    title="videos (nothing to see here, please disperse)">videos</a>)</p>

                        </div>

                    </article>

                    <article id="mongo" class="width-one"
                        style="background-image: url('pictures/MongoDB_Candids.jpg');">
                        <a href="standalone-video-gallery.html?video=MongoDB_Candids.mp4"
                            title="MongoDB 2013 event video edit"></a>
                    </article>

                    <article id="old-showreel" class="width-half"
                        style="background-image: url('pictures/charlie_robin_old_showreel.jpg');">
                        <a href="standalone-video-gallery.html?video=charlie_robin_old_showreel.mp4"
                            title="A REALLY old showreel (goes on for way too long)"></a>
                    </article>

                    <article id="dell-candids" class="width-half"
                        style="background-image: url('pictures/dell_gig_edit.jpg');">
                        <a href="standalone-video-gallery.html?video=dell_gig_edit.mp4"
                            title="Dell Poland Event: Manufacturing Plant Opening"></a>
                    </article>

                    <article id="asteroids2" class="width-half"
                        style="background-image: url('pictures/asteroids-gameplay-2.jpg');">
                        <a href="standalone-video-gallery.html?video=asteroids-gameplay-2.mp4"
                            title="Updated Asteroids gameplay video: random polygon meshes for rocks"></a>
                    </article>

                    <article id="hitachi-compilation" class="width-one"
                        style="background-image: url('pictures/hitachi_edit.jpg');">
                        <a href="standalone-video-gallery.html?video=hitachi_edit.mp4"
                            title="Hitachi Video Sampler"></a>
                    </article>

                    <article id="imazin" class="width-one" style="background-image: url('pictures/NAPP_Imazin.jpg');">
                        <a href="standalone-video-gallery.html?video=NAPP_Imazin.mp4"
                            title="NAPP Imazin Press Launch Event"></a>
                    </article>

                    <article id="hitachi-budapest" class="width-half"
                        style="background-image: url('pictures/Hitachi_Budapest.jpg');">
                        <a href="standalone-video-gallery.html?video=Hitachi_Budapest.mp4"
                            title="Hitachi Data Systems Budapest Conference"></a>
                    </article>

                    <article id="hitachi-teamwork" class="width-one"
                        style="background-image: url('pictures/Teamwork.jpg');">
                        <a href="standalone-video-gallery.html?video=Teamwork.mp4" title="Hitachi Teamwork Video"></a>
                    </article>

                    <!-- lower row -->

                    <article id="dell-intro" class="width-half"
                        style="background-image: url('pictures/dell_2008.jpg');">
                        <a href="standalone-video-gallery.html?video=dell_2008.mp4"
                            title="Dell Press Launch Welcome Video"></a>
                    </article>

                    <article id="dell-loop" class="width-one" style="background-image: url('pictures/Dell_Loop.jpg');">
                        <a href="standalone-video-gallery.html?video=Dell_Loop.mp4" title="Dell Widescreen Loop"></a>
                    </article>

                    <article id="photos2" class="width-half"
                        style="background-image: url('panoramio/25-thumbnail.jpg');">
                        <a href="gallery.html?s=1,2,3,4,5,6,7,8" title="Gallery of old photos"></a>
                    </article>

                    <article id="photos1" class="width-half linked-with right">

                        <div class="content">

                            <h3>photographs</h3>
                            <p>all the pictures that used to be on Panoramio before it got shut down</p>
                            <p>a mixture of normal and <a href="http://www.marsdenarchive.com"
                                    title="Simon Marsden, best known for his infra red photographs of haunted houses and landscapes throughout Europe">infrared
                                    photography</a></p>
                            <p style="font-size: smaller;"><a href="https://www.youtube.com/watch?v=iJqC6hTB83M"
                                    title="Clive Barker'S A-Z Of Horror, piece on Simon Marsden">Clive Barker’s A-Z Of
                                    Horror: Simon Marsden</a></p>
                            <p style="font-size: smaller;"><a href="https://www.youtube.com/watch?v=4fx4OSpSrSA"
                                    title="The Twilight Hour Visions Of Ireland’s Haunted Past">The Twilight Hour
                                    Visions Of Ireland’s Haunted Past</a></p>

                        </div>

                    </article>

                    <article id="clint" class="width-half"
                        style="background-image: url('pictures/hollywood-white-hunter-black-heart.jpg');">
                        <a href="standalone-video-gallery.html?video=hollywood-white-hunter-black-heart.mp4"
                            title="A Philosophy For Whoring Yourself in Hollywood"></a>
                    </article>

                    <article id="zandip" class="width-half" style="background-image: url('pictures/NAPP_Loop.jpg');">
                        <a href="standalone-video-gallery.html?video=NAPP_Loop.mp4"
                            title="NAPP Zandip Promotional Loop"></a>
                    </article>

                    <article id="mongo-intro" class="width-one"
                        style="background-image: url('pictures/MongoDB_London_2013.jpg');">
                        <a href="standalone-video-gallery.html?video=MongoDB_London_2013.mp4"
                            title="MongoDB Days London 2013"></a>
                    </article>

                    <article id="outline" class="width-half"
                        style="background-image: url('pictures/Outline_logo.jpg');">
                        <a href="standalone-video-gallery.html?video=Outline_logo.mp4"
                            title="Outline Projects Showreel"></a>
                    </article>

                    <article id="timelapse" class="width-half"
                        style="background-image: url('pictures/gharb_final.jpg');">
                        <a href="standalone-video-gallery.html?video=gharb_final.mp4"
                            title="Adventures in the Land of Lapsed Time With a Homemade Robot Camera"></a>
                    </article>

                    <article id="square-loop" class="width-half">

                        <a href="https://github.com/charlierobin" title="github repositories &amp; download links"> </a>

                    </article>

                    <article id="sailing" class="width-half">
                        <x3d width="100%" height="100%">
                            <scene>

                                <viewpoint position="0 0 3" orientation="0 0 1 0" description="camera"></viewpoint>

                                <shape>
                                    <appearance>
                                        <imageTexture url="images/earth-dark.jpg"></imageTexture>
                                    </appearance>
                                    <sphere></sphere>
                                </shape>

                                <transform rotation='1,0,0,-1.57'>
                                    <transform rotation='0,0,1,-1.57' id="transform">
                                    </transform>
                                </transform>

                            </scene>
                        </x3d>
                        <div id="wanderlust"><a href="wanderlust.html">go <span style="font-size: 60%">▶︎</span></a>
                        </div>
                    </article>

                </section>

            </section>

            <section id="contact" class="content">

                <p><a href="mailto:charlie@charlierobin.com" title="email address">charlie@charlierobin.com</a>
                </p>
                <p><a href="https://github.com/charlierobin"
                        title="github repositories &amp; download links">github.com/charlierobin</a></p>

                <p>1994-2025</p>

            </section>
        </main>
    </div>

    <script>

        x3dom.runtime.ready = function () {
            // console.log("x3dom");
        }

        $(document).ready(function () {

            setTimeout(launch, 1000 * 5);

            setTimeout(() => {

                com.charlierobin.loadKMLFiles();

                let pics = com.charlierobin.selectRandomPics();

                $("#photos2").find('a').attr("href", "gallery.html?s=" + pics.join(','));

            }, 1000 * 10);

            setTimeout(() => {

                $("#oscar a").append(`<video playsinline autoplay loop style="object-fit: cover; width: 100%; height: 100%"><source src="pictures/oscar/oscar-the-grouch.mp4" type="video/mp4">No video for you! Come back one year!</video>`);

            }, 1000 * 15);

            setTimeout(() => {

                $("#toasters a").append(`<video playsinline autoplay loop style="object-fit: fill;"><source src="pictures/flying-toasters/flying-toaster-loop.mp4" type="video/mp4">No video for you! Come back one year!</video>`);

            }, 1000 * 20);

            setTimeout(() => {

                $("#square-loop a").append(`<video playsinline autoplay loop style="object-fit: fill;"><source src="pictures/square-loop.mp4" type="video/mp4">No video for you! Come back one year!</video>`);

            }, 1000 * 25);

        });

        function launch() {

            let mouseDown = false;
            let mouseX = 0;
            let mouseY = 0;

            const canvas = document.getElementById("canvas");

            $(canvas).on('mousedown', function (e) {

                mouseDown = true;

                mouseX = e.pageX - $(canvas).offset().left;
                mouseY = e.pageY - $(canvas).offset().top;

            });

            const scaleFactor = 2;

            canvas.width = canvas.offsetWidth * scaleFactor;
            canvas.height = canvas.offsetHeight * scaleFactor;

            const ctx = canvas.getContext("2d"); /** @type {CanvasRenderingContext2D} */

            var init = true;

            let startX = 0;
            let startY = 0;

            let endX = canvas.width;
            let endY = canvas.height;

            let emitterX = startX;
            let emitterY = startY;

            let particles = [];

            let flipColour = false;

            const colour1 = "rgb(70 50 70)";
            const colour2 = "rgb(21 17 81)";

            let points = [];
            let pointer = 0;

            let rot = 0;
            let rotΔ = 0;

            let hero = null;

            const heroDelay = 12;
            const heroSize = 230;
            const heroCutOffScale = 16;
            const heroScaleΔ = 0.1;

            const chanceEmitterSpawns = 0.7;

            setInterval(update, (1 / 20) * 1000);

            function update() {

                ctx.clearRect(0, 0, canvas.width, canvas.height);

                ctx.fillStyle = flipColour ? colour1 : colour2;

                ctx.fillRect(0, 0, canvas.width, canvas.height);

                ctx.fillStyle = flipColour ? colour2 : colour1;

                if (init) {

                    init = false;

                    [startX, startY, endX, endY] = randomStartAndEnd(canvas);

                    points = niceCurvedPath(startX, startY, endX, endY);

                    pointer = 0;

                    emitterX = startX;
                    emitterY = startY;

                    hero = null;
                    particles = [];

                    rotΔ = ((Math.random() * 0.3) + 0.1) * (Math.PI / 180);

                    if (Math.random() > 0.5) rotΔ = -rotΔ;

                    setTimeout(startTheHero, heroDelay * 1000);
                }

                if (points.length > 0) {

                    // drawEmitter();

                    const progressAlongPath = pointer / points.length;

                    emitterX = points[pointer].x;
                    emitterY = points[pointer].y;

                    if (Math.random() > chanceEmitterSpawns) {

                        particles.push({ size: (Math.random() * 40) + 5, scale: 0, scaleΔ: (0.05 * Math.random()) + (progressAlongPath / 20), x: emitterX, y: emitterY });
                    }

                    pointer = pointer + 1;

                    if (pointer >= points.length) points = [];

                    if (mouseDown) {

                        mouseDown = false;

                        particles.push({ size: (Math.random() * 40) + 5, scale: 0, scaleΔ: (0.05 * Math.random()) + (progressAlongPath / 10), x: mouseX * scaleFactor, y: mouseY * scaleFactor });
                    }
                }

                particles.forEach(element => {

                    ctx.translate(element.x, element.y);
                    ctx.scale(element.scale, element.scale);
                    ctx.rotate((Math.PI * 2) * rot);

                    ctx.fillRect(-element.size / 2, -element.size / 2, element.size, element.size);

                    ctx.setTransform(1, 0, 0, 1, 0, 0);

                    element.scale = element.scale + element.scaleΔ;
                });

                rot = rot + rotΔ;

                if (hero && hero.scale > heroCutOffScale) {

                    flipColour = !flipColour;

                    init = true;
                }

                function startTheHero() {

                    var [x, y] = randomPositionAroundEdge();

                    hero = { size: heroSize, scale: 0, scaleΔ: heroScaleΔ, x: x, y: y };

                    particles.push(hero);
                }
            }

            function drawEmitter() {

                ctx.translate(emitterX, emitterY);
                let size = 20;
                ctx.fillRect(-size / 2, -size / 2, size, size);
                ctx.setTransform(1, 0, 0, 1, 0, 0);
            }

            function randomPositionAroundEdge() {

                let x = 0;
                let y = 0;

                const r = Math.random();

                const totalBoundary = canvas.width + canvas.height + canvas.width + canvas.height;

                const pos = r * totalBoundary;

                if (pos > (canvas.width + canvas.height + canvas.width)) {

                    x = canvas.width;
                }
                else if (pos > (canvas.width + canvas.height)) {

                    y = canvas.height;
                }
                else if (pos > canvas.width) {

                    x = canvas.width;
                    y = canvas.height;
                }
                else {
                    // nothing
                }

                return [x, y];
            }

            function randomStartAndEnd() {

                let startX = 0;
                let startY = 0;

                let endX = canvas.width;
                let endY = canvas.height;

                [startX, startY] = randomPositionAroundEdge();

                if (startX > 0 && startY > 0) {

                    // console.log("bottom right");

                    endX = 0;
                    endY = 0;
                }
                else if (startX > 0) {

                    // console.log("top right");

                    endX = 0;
                    endY = canvas.height;
                }
                else if (startY > 0) {

                    // console.log("bottom left");

                    endX = canvas.width;
                    endY = 0;
                }
                else {

                    // console.log("top left");

                    endX = canvas.width;
                    endY = canvas.height;
                }

                return [startX, startY, endX, endY];
            }

            function niceCurvedPath(x1, y1, x2, y2) {

                var startX = x1;
                var startY = y1;

                var endX = x2;
                var endY = y2;

                var diff_x = x2 - x1;
                var diff_y = y2 - y1;

                var xy = [];
                var xy_count = -1;

                var bezierX = startX + (diff_x * Math.random());
                var bezierY = startY + (diff_y * Math.random());

                for (let t = 0.0; t <= 1; t += 0.01) {
                    xy_count++;
                    xy[xy_count] = {};
                    xy[xy_count].x = Math.round((1 - t) * (1 - t) * startX + 2 * (1 - t) * t * bezierX + t * t * endX);
                    xy[xy_count].y = Math.round((1 - t) * (1 - t) * startY + 2 * (1 - t) * t * bezierY + t * t * endY);
                }

                return xy;
            }

            function getMousePos(canvas, evt) {
                var rect = canvas.getBoundingClientRect();
                return {
                    x: evt.clientX - rect.left,
                    y: evt.clientY - rect.top
                };
            }
        }

    </script>

</body>

</html>